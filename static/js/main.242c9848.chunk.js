(this.webpackJsonptravela=this.webpackJsonptravela||[]).push([[0],{19:function(e,a,t){e.exports=t(43)},24:function(e,a,t){},25:function(e,a,t){},43:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),l=t(12),r=t.n(l),i=(t(24),t(13)),s=t(14),u=t(17),o=t(15),m=t(18),h=(t(25),function(e){return c.a.createElement("div",{className:"hero_home version_1"},c.a.createElement("div",{className:"content"},c.a.createElement("h3",null,"Travela!"),c.a.createElement("p",null,"The world is yours."),c.a.createElement("form",null,c.a.createElement("div",{id:"custom-search-input"},c.a.createElement("div",{className:"input-group"},c.a.createElement("input",{className:" search-query",placeholder:"Ex. City, Location ....",onChange:e.handleInputChange}),c.a.createElement("input",{type:"submit",className:"btn_search",value:"Search",onClick:e.onClickSearch}))))))}),d=t(2),p=t(16),E=t.n(p),g=function(e){var a=Object(n.useState)([]),t=Object(d.a)(a,2),l=t[0],r=t[1],i=Object(n.useState)(0),s=Object(d.a)(i,2),u=s[0],o=s[1],m=Object(n.useState)(!1),h=Object(d.a)(m,2),p=h[0],g=h[1],v=Object(n.useState)(e.query),f=Object(d.a)(v,2),b=f[0],N=f[1],C=Object(n.useState)(1),k=Object(d.a)(C,2),_=k[0],y=k[1];Object(n.useEffect)((function(){return j(1),function(){console.log("unmount")}}),[]);var j=function(e){var a={from:10*(e-1),size:10,query:{multi_match:{query:b,fields:["content","title"],operator:"and"}},aggs:{group_by_state:{terms:{field:"host"}}}};g(!1),E.a.post("http://node2.spai.ml:9200/nutch/_search",a).then((function(a){r(a.data.hits.hits),o(a.data.hits.total),g(!0),y(e)}))};return c.a.createElement(c.a.Fragment,null,p?c.a.createElement("div",null,c.a.createElement("header",{className:"static"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm"},c.a.createElement("div",{id:"logo"},c.a.createElement("img",{src:"img/Travela.png","data-retina":"true",alt:"",width:"auto",height:"40 px",onClick:e.onClickBack})))))),c.a.createElement("main",null,c.a.createElement("div",{id:"results"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-12"},c.a.createElement("div",{className:"search_bar_list"},c.a.createElement("form",null,c.a.createElement("input",{className:"form-control",placeholder:b,onChange:function(e){N(e.target.value)}}),c.a.createElement("input",{type:"submit",value:"Search",onClick:function(){return j(1)}}))))))),c.a.createElement("div",{className:"container margin_60_35"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-12"},l.map((function(e){return c.a.createElement("div",{className:"strip_list wow fadeIn"},c.a.createElement("small",null,e._source.url),c.a.createElement("a",{href:e._source.url,target:"_blank"},c.a.createElement("h3",null,e._source.title)),c.a.createElement("p",null,function(e){var a=e,t=a.split(" ");return t.length>100&&(a=(t=t.slice(0,100)).join(" ")+"..."),a}(e._source.content)))})),c.a.createElement("nav",{"aria-label":"",className:"add_top_20"},c.a.createElement("ul",{className:"pagination pagination-sm"},c.a.createElement("li",{className:_<=1?"page-item disabled":"page-item"},c.a.createElement("button",{className:"page-link",onClick:function(){j(_-1)}},"Previous")),function(){var e=[];if(u/10<7)for(var a=Math.ceil(u/10),t=1;t<=a;t++)e.push(t);else e=_>4?[_-3,_-2,_-1,_,_+1,_+2,_+3]:[1,2,3,4,5,6,7];return e}().map((function(e){return c.a.createElement("li",{className:_===e?"page-item active":"page-item"},c.a.createElement("button",{className:"page-link",onClick:function(){j(e)}},e))})),c.a.createElement("li",{className:_>Math.floor(u/10)?"page-item disabled":"page-item"},c.a.createElement("button",{className:"page-link",onClick:function(){j(_+1)}},"Next"))))))))):c.a.createElement("div",{id:"preloader"},c.a.createElement("div",{"data-loader":"circle-side"})))},v=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(o.a)(a).call(this,e))).changeToList=function(){t.state.query.length>0?t.setState({currentPage:c.a.createElement(g,{query:t.state.query,onClickBack:t.changeToSearch,sendInputToParent:t.handleInputChange})}):alert("Please input search query")},t.changeToSearch=function(){t.setState({query:"",currentPage:c.a.createElement(h,{onClickSearch:t.changeToList,handleInputChange:t.handleInputChange})})},t.handleInputChange=function(e){t.setState({query:e.target.value})},t.state={currentPage:c.a.createElement(h,{onClickSearch:t.changeToList,handleInputChange:t.handleInputChange}),query:""},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,this.state.currentPage)}}]),a}(c.a.Component);r.a.render(c.a.createElement(v,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.242c9848.chunk.js.map